import{s as q,c as Q,u as C,g as b,d as M}from"./scheduler.62f984e8.js";import{S as U,i as z,g as I,m as w,s as A,h as p,j as v,n as D,f as _,c as E,k as N,a as F,z as d,o as H,d as j,t as J,H as K,y as P,I as B}from"./index.12e7b815.js";import{w as V}from"./index.2ffdc0f3.js";function y(e){let t,s,a="?",r,i,o;return{c(){t=I("div"),s=I("span"),s.textContent=a,r=A(),i=I("div"),o=new K(!1),this.h()},l(n){t=p(n,"DIV",{class:!0});var l=v(t);s=p(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(s)!=="svelte-qca8pv"&&(s.textContent=a),r=E(l),i=p(l,"DIV",{class:!0});var m=v(i);o=B(m,!1),m.forEach(_),l.forEach(_),this.h()},h(){N(s,"class","icon svelte-1rj8pak"),o.a=null,N(i,"class","body svelte-1rj8pak"),N(t,"class","help svelte-1rj8pak")},m(n,l){F(n,t,l),d(t,s),d(t,r),d(t,i),o.m(e[1],i)},p(n,l){l&2&&o.p(n[1])},d(n){n&&_(t)}}}function W(e){let t,s,a,r,i,o,n,l=e[1].length>0&&y(e);const m=e[3].default,u=Q(m,e,e[2],null);return{c(){t=I("section"),s=I("div"),a=I("h2"),r=w(e[0]),i=A(),l&&l.c(),o=A(),u&&u.c(),this.h()},l(c){t=p(c,"SECTION",{});var f=v(t);s=p(f,"DIV",{class:!0});var g=v(s);a=p(g,"H2",{});var S=v(a);r=D(S,e[0]),S.forEach(_),i=E(g),l&&l.l(g),g.forEach(_),o=E(f),u&&u.l(f),f.forEach(_),this.h()},h(){N(s,"class","header svelte-1rj8pak")},m(c,f){F(c,t,f),d(t,s),d(s,a),d(a,r),d(s,i),l&&l.m(s,null),d(t,o),u&&u.m(t,null),n=!0},p(c,[f]){(!n||f&1)&&H(r,c[0]),c[1].length>0?l?l.p(c,f):(l=y(c),l.c(),l.m(s,null)):l&&(l.d(1),l=null),u&&u.p&&(!n||f&4)&&C(u,m,c,c[2],n?M(m,c[2],f,null):b(c[2]),null)},i(c){n||(j(u,c),n=!0)},o(c){J(u,c),n=!1},d(c){c&&_(t),l&&l.d(),u&&u.d(c)}}}function G(e,t,s){let{$$slots:a={},$$scope:r}=t,{name:i}=t,{help:o=""}=t;return e.$$set=n=>{"name"in n&&s(0,i=n.name),"help"in n&&s(1,o=n.help),"$$scope"in n&&s(2,r=n.$$scope)},[i,o,r,a]}class ne extends U{constructor(t){super(),z(this,t,G,W,q,{name:0,help:1})}}var h=(e=>(e.QUALIFICATION="Qualification",e.QUARTERFINAL="Quarterfinal",e.SEMIFINAL="Semifinal",e.FINAL="Final",e))(h||{}),L=(e=>(e.RED="Red",e.BLUE="Blue",e))(L||{}),X=(e=>(e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e))(X||{});function Y(){return{alliance:"Blue",station:1,type:"Qualification",set:1,match:1,team:0}}function Z(e){return e==L.RED?"red":"blue"}function k(e){switch(e){case h.QUALIFICATION:return"qm";case h.QUARTERFINAL:return"qf";case h.SEMIFINAL:return"sf";case h.FINAL:return"f";default:return"qm"}}function x(e){return{type:k(e.type),set:e.set,match:e.match,alliance:Z(e.alliance),station:e.station,team:e.team}}function $(e){let t="";return t+=e.type,e.type!="qm"&&(t+=e.set,t+="m"),t+=e.match,t}const O={qm:h.QUALIFICATION,qf:h.QUARTERFINAL,sf:h.SEMIFINAL,f:h.FINAL};function le(e){const s=new RegExp("(?:.*_)?(qm|qf|sf|f)(\\d{1,2})(?:m(\\d{1,2}))?").exec(e);if(s!==null){const[,a,r,i]=s,o=a==="qm",n=a;if(o){const m=parseInt(r),u=O[n];return{set:1,match:m,type:u}}else{const l=parseInt(r),m=parseInt(i),u=O[n];return{set:l,match:m,type:u}}}return{set:1,match:1,type:h.QUALIFICATION}}function ee(e,t){return{participant:x(e),metrics:t.serialize()}}function R(e,t){const s=V(t);{const a=localStorage.getItem(e);if(a!=null){const r=JSON.parse(a);s.set(r)}}return{get:()=>{const a=localStorage.getItem(e);return a===null?(console.log(`Key ${e} was null`),localStorage.setItem(e,JSON.stringify(t)),t):JSON.parse(a)},set:a=>{s.set(a),localStorage.setItem(e,JSON.stringify(a))},clear:()=>{s.set(t),localStorage.setItem(e,JSON.stringify(t))},subscribe:a=>{s.subscribe(a)}}}const re=R("participant",Y()),T=R("matches",{});function ie(e,t){const s=ee(e,t),a=T.get(),r=$(s.participant),i=a[r]||{},o=i[s.participant.alliance]||{},n=o[e.station]||[];return n.push(s),o[e.station]=n,i[s.participant.alliance]=o,a[r]=i,T.set(a),s}export{L as A,h as M,ne as S,X as a,ie as b,T as c,le as p,re as s};
