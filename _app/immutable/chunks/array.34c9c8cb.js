import{g as ie,S as j}from"./Serialized.e699b113.js";import{s as V,o as oe,n as ae,r as q,b as ce,h as re}from"./scheduler.cc2b1be1.js";import{S as D,i as M,r as A,u as F,v as L,d as W,t as Y,w as Q,g as p,s as O,h as v,j as S,f as _,c as B,y as P,k as b,a as N,B as k,m as J,n as K,x as E,z as y,o as H,E as le,A as I,e as x}from"./index.dcec8585.js";import{e as z}from"./QRCode.bb0a4777.js";async function Ue(s,e){return await fetch(`${s}?${ie(e.participant)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.metrics)})}function ue(s,e,n){return{x:s.x*e,y:s.y*n}}function fe(s,e,n){return{x:s.x/e,y:s.y/n}}function Pe(s){return s?`${s.x.toFixed(4)},${s.y.toFixed(4)}`:""}function he(s){let e,n,t,l="Undo",i,o;return{c(){e=p("canvas"),n=O(),t=p("button"),t.textContent=l,this.h()},l(c){e=v(c,"CANVAS",{}),S(e).forEach(_),n=B(c),t=v(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1noky5v"&&(t.textContent=l),this.h()},h(){b(t,"class","primary")},m(c,h){N(c,e,h),s[9](e),N(c,n,h),N(c,t,h),i||(o=[k(e,"click",s[4]),k(e,"touchstart",s[5]),k(e,"touchmove",s[5]),k(t,"click",s[10])],i=!0)},p:ae,d(c){c&&(_(e),_(n),_(t)),s[9](null),i=!1,q(o)}}}function me(s){let e,n;return e=new j({props:{name:s[1],help:s[2],$$slots:{default:[he]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const i={};l&2&&(i.name=t[1]),l&4&&(i.help=t[2]),l&16393&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function de(s,e,n){let{name:t}=e,{help:l}=e,{field:i}=e,{points:o=[]}=e,{single:c=!1}=e,{drawStyle:h="dot"}=e,m=null;oe(()=>{m=new Image,m.src=i,m.onload=()=>{m&&(n(3,a.width=a.offsetWidth,a),n(3,a.height=a.offsetWidth*(m.height/m.width),a),d())}});let a;function u(f){const w=fe(f,a.width,a.height);c?n(0,o=[w]):n(0,o=[...o,w])}function r(f){const w={x:f.offsetX,y:f.offsetY};u(w)}function T(f){const w=a.offsetLeft,g=a.offsetTop,U={x:f.touches[0].clientX-w,y:f.touches[0].clientY-g};u(U)}function d(){if(!a||!m)return;const f=a.getContext("2d");if(f){f.clearRect(0,0,a.width,a.height),f.drawImage(m,0,0,a.width,a.height);for(let w of o){const g=ue(w,a.width,a.height),U="#fafafa",X=12;switch(h){case"dot":f.fillStyle=U,f.beginPath(),f.arc(g.x,g.y,X,0,2*Math.PI,!1),f.fill();break;case"cross":f.strokeStyle=U,f.lineWidth=4;const C=.5*X*Math.sqrt(2);f.beginPath(),f.moveTo(g.x-C,g.y-C),f.lineTo(g.x+C,g.y+C),f.moveTo(g.x+C,g.y-C),f.lineTo(g.x-C,g.y+C),f.stroke();break;case"triangle":f.fillStyle=U;const Z=.5*Math.sqrt(3)*X,G=.5*X;f.beginPath(),f.moveTo(g.x,g.y-2*G),f.lineTo(g.x-Z,g.y+G),f.lineTo(g.x+Z,g.y+G),f.fill()}}}}function R(f){ce[f?"unshift":"push"](()=>{a=f,n(3,a)})}const se=f=>n(0,o=o.slice(0,o.length-1));return s.$$set=f=>{"name"in f&&n(1,t=f.name),"help"in f&&n(2,l=f.help),"field"in f&&n(6,i=f.field),"points"in f&&n(0,o=f.points),"single"in f&&n(7,c=f.single),"drawStyle"in f&&n(8,h=f.drawStyle)},s.$$.update=()=>{s.$$.dirty&1&&o&&d()},[o,t,l,a,r,T,i,c,h,R,se]}class je extends D{constructor(e){super(),M(this,e,de,me,V,{name:1,help:2,field:6,points:0,single:7,drawStyle:8})}}function _e(s){let e,n,t,l,i,o,c,h;return{c(){e=p("div"),n=p("button"),t=J(s[3]),l=O(),i=p("button"),o=J(s[4]),this.h()},l(m){e=v(m,"DIV",{class:!0});var a=S(e);n=v(a,"BUTTON",{});var u=S(n);t=K(u,s[3]),u.forEach(_),l=B(a),i=v(a,"BUTTON",{});var r=S(i);o=K(r,s[4]),r.forEach(_),a.forEach(_),this.h()},h(){E(n,"active",s[0]===!1),E(i,"active",s[0]),b(e,"class","split")},m(m,a){N(m,e,a),y(e,n),y(n,t),y(e,l),y(e,i),y(i,o),c||(h=[k(n,"click",s[5]),k(i,"click",s[6])],c=!0)},p(m,a){a&8&&H(t,m[3]),a&1&&E(n,"active",m[0]===!1),a&16&&H(o,m[4]),a&1&&E(i,"active",m[0])},d(m){m&&_(e),c=!1,q(h)}}}function ge(s){let e,n;return e=new j({props:{name:s[1],help:s[2],$$slots:{default:[_e]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const i={};l&2&&(i.name=t[1]),l&4&&(i.help=t[2]),l&153&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function pe(s,e,n){let{name:t}=e,{help:l}=e,{value:i=!1}=e,{negative:o="No"}=e,{positive:c="Yes"}=e;const h=()=>n(0,i=!1),m=()=>n(0,i=!0);return s.$$set=a=>{"name"in a&&n(1,t=a.name),"help"in a&&n(2,l=a.help),"value"in a&&n(0,i=a.value),"negative"in a&&n(3,o=a.negative),"positive"in a&&n(4,c=a.positive)},[i,t,l,o,c,h,m]}class Ve extends D{constructor(e){super(),M(this,e,pe,ge,V,{name:1,help:2,value:0,negative:3,positive:4})}}function $(s,e,n){const t=s.slice();return t[5]=e[n],t}function ee(s){let e,n=s[5]+"",t,l,i;function o(){return s[4](s[5])}return{c(){e=p("button"),t=J(n),this.h()},l(c){e=v(c,"BUTTON",{});var h=S(e);t=K(h,n),h.forEach(_),this.h()},h(){E(e,"active",s[0]==s[5])},m(c,h){N(c,e,h),y(e,t),l||(i=k(e,"click",o),l=!0)},p(c,h){s=c,h&8&&n!==(n=s[5]+"")&&H(t,n),h&9&&E(e,"active",s[0]==s[5])},d(c){c&&_(e),l=!1,i()}}}function ve(s){let e,n=z(s[3]),t=[];for(let l=0;l<n.length;l+=1)t[l]=ee($(s,n,l));return{c(){e=p("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=v(l,"DIV",{class:!0});var i=S(e);for(let o=0;o<t.length;o+=1)t[o].l(i);i.forEach(_),this.h()},h(){b(e,"class","split")},m(l,i){N(l,e,i);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null)},p(l,i){if(i&9){n=z(l[3]);let o;for(o=0;o<n.length;o+=1){const c=$(l,n,o);t[o]?t[o].p(c,i):(t[o]=ee(c),t[o].c(),t[o].m(e,null))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(l){l&&_(e),le(t,l)}}}function be(s){let e,n;return e=new j({props:{name:s[1],help:s[2],$$slots:{default:[ve]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const i={};l&2&&(i.name=t[1]),l&4&&(i.help=t[2]),l&265&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function ye(s,e,n){let{name:t}=e,{help:l}=e,{options:i}=e,{selected:o=""}=e;const c=h=>n(0,o=o!=h?h:"");return s.$$set=h=>{"name"in h&&n(1,t=h.name),"help"in h&&n(2,l=h.help),"options"in h&&n(3,i=h.options),"selected"in h&&n(0,o=h.selected)},[o,t,l,i,c]}class qe extends D{constructor(e){super(),M(this,e,ye,be,V,{name:1,help:2,options:3,selected:0})}}function Te(s){let e,n,t="Scouter Name",l,i,o,c,h="Generate QR Code",m,a;return{c(){e=p("div"),n=p("label"),n.textContent=t,l=O(),i=p("input"),o=O(),c=p("button"),c.textContent=h,this.h()},l(u){e=v(u,"DIV",{});var r=S(e);n=v(r,"LABEL",{for:!0,"data-svelte-h":!0}),P(n)!=="svelte-1dsqkj9"&&(n.textContent=t),l=B(r),i=v(r,"INPUT",{id:!0,type:!0,placeholder:!0}),r.forEach(_),o=B(u),c=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-88s059"&&(c.textContent=h),this.h()},h(){b(n,"for","scouter"),b(i,"id","scouter"),b(i,"type","text"),b(i,"placeholder","Scouter Name"),b(c,"class","primary")},m(u,r){N(u,e,r),y(e,n),y(e,l),y(e,i),I(i,s[0]),N(u,o,r),N(u,c,r),m||(a=[k(i,"input",s[2]),k(c,"click",s[1])],m=!0)},p(u,r){r&1&&i.value!==u[0]&&I(i,u[0])},d(u){u&&(_(e),_(o),_(c)),m=!1,q(a)}}}function ke(s){let e,n;return e=new j({props:{name:"Submit",$$slots:{default:[Te]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const i={};l&9&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Ne(s,e,n){let{scouterName:t=""}=e;function l(o){re.call(this,s,o)}function i(){t=this.value,n(0,t)}return s.$$set=o=>{"scouterName"in o&&n(0,t=o.scouterName)},[t,l,i]}class De extends D{constructor(e){super(),M(this,e,Ne,ke,V,{scouterName:0})}}function te(s,e,n){const t=s.slice();return t[1]=e[n],t[7]=e,t[8]=n,t}function ne(s){let e,n,t,l,i="-",o,c,h;function m(){s[5].call(n,s[7],s[8])}function a(...u){return s[6](s[8],...u)}return{c(){e=p("div"),n=p("input"),t=O(),l=p("button"),l.textContent=i,o=O(),this.h()},l(u){e=v(u,"DIV",{class:!0});var r=S(e);n=v(r,"INPUT",{class:!0,type:!0}),t=B(r),l=v(r,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1qfmmwv"&&(l.textContent=i),o=B(r),r.forEach(_),this.h()},h(){b(n,"class","inactive svelte-tbpijv"),b(n,"type","text"),b(l,"class","primary remove"),b(e,"class","svelte-tbpijv")},m(u,r){N(u,e,r),y(e,n),I(n,s[1]),y(e,t),y(e,l),y(e,o),c||(h=[k(n,"input",m),k(l,"click",a)],c=!0)},p(u,r){s=u,r&1&&n.value!==s[1]&&I(n,s[1])},d(u){u&&_(e),c=!1,q(h)}}}function Se(s){let e,n,t,l,i="+",o,c,h,m,a=z(s[0]),u=[];for(let r=0;r<a.length;r+=1)u[r]=ne(te(s,a,r));return{c(){e=p("div"),n=p("input"),t=O(),l=p("button"),l.textContent=i,o=O();for(let r=0;r<u.length;r+=1)u[r].c();c=x(),this.h()},l(r){e=v(r,"DIV",{class:!0});var T=S(e);n=v(T,"INPUT",{type:!0,placeholder:!0}),t=B(T),l=v(T,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1rhr61c"&&(l.textContent=i),T.forEach(_),o=B(r);for(let d=0;d<u.length;d+=1)u[d].l(r);c=x(),this.h()},h(){b(n,"type","text"),b(n,"placeholder",""),b(l,"class","primary add"),b(e,"class","svelte-tbpijv")},m(r,T){N(r,e,T),y(e,n),I(n,s[1]),y(e,t),y(e,l),N(r,o,T);for(let d=0;d<u.length;d+=1)u[d]&&u[d].m(r,T);N(r,c,T),h||(m=[k(n,"input",s[4]),k(l,"click",s[2])],h=!0)},p(r,T){if(T&2&&n.value!==r[1]&&I(n,r[1]),T&9){a=z(r[0]);let d;for(d=0;d<a.length;d+=1){const R=te(r,a,d);u[d]?u[d].p(R,T):(u[d]=ne(R),u[d].c(),u[d].m(c.parentNode,c))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(r){r&&(_(e),_(o),_(c)),le(u,r),h=!1,q(m)}}}function we(s){let e,n;return e=new j({props:{name:"Notes",$$slots:{default:[Se]},$$scope:{ctx:s}}}),{c(){A(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const i={};l&515&&(i.$$scope={dirty:l,ctx:t}),e.$set(i)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Q(e,t)}}}function Ce(s,e,n){let t="",{notes:l=[]}=e;function i(){n(0,l=[...l,t]),n(1,t="")}function o(a){l.splice(a,1),n(0,l)}function c(){t=this.value,n(1,t)}function h(a,u){a[u]=this.value,n(0,l)}const m=(a,u)=>o(a);return s.$$set=a=>{"notes"in a&&n(0,l=a.notes)},[l,t,i,o,c,h,m]}class Me extends D{constructor(e){super(),M(this,e,Ce,we,V,{notes:0})}}function Ae(s,e){let n={};for(const[t,l]of e.entries()){const i=`${s}${t}`;n[i]=l}return n}export{Ve as B,je as F,Me as N,qe as O,De as S,Ae as a,Ue as d,Pe as p};
